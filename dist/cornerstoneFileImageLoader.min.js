/*! cornerstone-file-image-loader - v0.5.1 - 2016-05-31 | (c) 2015 Chris Hafey | https://github.com/chafey/cornerstoneFileImageLoader */
var cornerstoneFileImageLoader=function(a,b,c){"use strict";function d(b){var c=cornerstoneWADOImageLoader.parseImageId(b),d=a.Deferred(),e=c.url;e=e.substring(12);var f=e;if(void 0===f)return d.reject("unknown file path "+e),d;var g=new FileReader;g.onload=function(a){var b=a.target.result,c=new Uint8Array(b),e=dicomParser.parseDicom(c);d.resolve(e)};var h=new XMLHttpRequest;h.onreadystatechange=function(){if(4===h.readyState){if(200!==h.status)return console.err("failed: "+f),d.reject('failed accessing local file "'+f+'". ('+h.status+")"),d;console.log("success: "+f);var a=h.response;g.readAsArrayBuffer(a)}};var i=h.open("GET",f,!0);return h.responseType="blob",h.request=i,h.send(),d.promise()}return void 0===c&&(c={}),b.registerImageLoader("localfile",d),c}($,cornerstone,cornerstoneFileImageLoader),cornerstoneFileImageLoader=function(a){"use strict";function b(a){var b=e.push(a);return b-1}function c(a){return e[a]}function d(){e=[]}void 0===a&&(a={});var e=[];return a.addFile=b,a.getFile=c,a.purge=d,a}(cornerstoneFileImageLoader);